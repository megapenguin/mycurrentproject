(this["webpackJsonpretrack-admin"]=this["webpackJsonpretrack-admin"]||[]).push([[5],{444:function(e,t,a){"use strict";var c=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},i=a(77),s=function(e,t){return c.createElement(i.a,Object.assign({},e,{ref:t,icon:n}))};s.displayName="CloseOutlined";t.a=c.forwardRef(s)},450:function(e,t,a){"use strict";a.r(t);a(399);var c=a(398),n=(a(90),a(48)),i=(a(130),a(44)),s=a(5),l=(a(129),a(60)),r=(a(208),a(153)),o=(a(395),a(396)),u=(a(151),a(110)),d=a(78),j=(a(131),a(80)),b=a(0),h={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:t}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}}]}},name:"smile",theme:"twotone"},f=a(77),O=function(e,t){return b.createElement(f.a,Object.assign({},e,{ref:t,icon:h}))};O.displayName="SmileTwoTone";var m=b.forwardRef(O),v={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M477.5 536.3L135.9 270.7l-27.5-21.4 27.6 21.5V792h752V270.8L546.2 536.3a55.99 55.99 0 01-68.7 0z",fill:t}},{tag:"path",attrs:{d:"M876.3 198.8l39.3 50.5-27.6 21.5 27.7-21.5-39.3-50.5z",fill:t}},{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-94.5 72.1L512 482 190.5 232.1h643zm54.5 38.7V792H136V270.8l-27.6-21.5 27.5 21.4 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5h.1l39.3 50.5-27.7 21.5z",fill:e}}]}},name:"mail",theme:"twotone"},p=function(e,t){return b.createElement(f.a,Object.assign({},e,{ref:t,icon:v}))};p.displayName="MailTwoTone";var x=b.forwardRef(p),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},w=function(e,t){return b.createElement(f.a,Object.assign({},e,{ref:t,icon:g}))};w.displayName="QuestionOutlined";var y=b.forwardRef(w),C=a(444),z=a(91),k=a.n(z),S=a(59),M=a(30),N=a(82),T=a(154),I=(a(149),a(50)),L=(a(128),a(62)),F=(a(206),a(132)),V=a(452);var _=function(e){var t=Object(b.useState)(!1),a=Object(d.a)(t,2),c=a[0],i=a[1],l=Object(b.useState)(!1),r=Object(d.a)(l,2),o=r[0],u=r[1],j=Object(b.useState)(!1),h=Object(d.a)(j,2),f=(h[0],h[1]),O=Object(b.useState)("Choose file"),m=Object(d.a)(O,2),v=(m[0],m[1],Object(b.useState)()),p=Object(d.a)(v,2),x=(p[0],p[1],function(){f(!0),i(!1)}),g=function(t){console.log(t),t.userId=e.info.id,u(!0),f(!1),setTimeout((function(){i(!1),u(!1)}),2e3),k.a.post("/api/v1/titles/add_title",t).then((function(e){F.a.success({content:"Successfully added title instruction",okButtonProps:{}})})).catch((function(e){return console.log(e)}))};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(n.a,{type:"primary",className:"modal-button-add",onClick:function(){i(!0)},children:[Object(s.jsxs)("span",{className:"desktop-view",children:[Object(s.jsx)(V.a,{})," Add Instruction"]}),Object(s.jsx)("span",{className:"mobile-view",children:Object(s.jsx)(V.a,{})})]}),Object(s.jsx)(F.a,{title:"Add Intsruction",visible:c,confirmLoading:o,onOk:g,onCancel:x,afterClose:function(){e.afterClosing()},destroyOnClose:!0,footer:[Object(s.jsx)(n.a,{className:"modal-button",onClick:x,children:"Cancel"},"back"),Object(s.jsx)(n.a,{form:"myForm",htmlType:"submit",type:"primary",className:"modal-button",loading:o,onClick:g,children:"Add"},"submit")],children:Object(s.jsx)(I.a,{layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:g,onFinishFailed:function(e){F.a.error({content:"Failure to Add New Driver",okButtonProps:{style:{borderRadius:"50px"}}}),setTimeout((function(){i(!0),u(!1)}),2e3)},id:"myForm",children:Object(s.jsx)(I.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title!"}],children:Object(s.jsx)(L.a,{placeholder:"Instruction Title"})})})})]})};t.default=Object(M.i)((function(e){e.history;var t=Object(b.useContext)(N.a),a=Object(b.useContext)(T.a),h=j.a.Title,f=Object(b.useState)(t.state.userData),O=Object(d.a)(f,2),v=O[0],p=(O[1],Object(b.useState)(null)),g=Object(d.a)(p,2),w=g[0],z=g[1],M=Object(b.useState)([]),I=Object(d.a)(M,2),L=I[0],F=I[1],V=Object(b.useState)(null),B=Object(d.a)(V,2),A=B[0];return B[1],Object(b.useEffect)((function(){k.a.post("/api/v1/users/search_current_user",{value:v.id}).then((function(e){var t=e.data;z(t)})),k.a.post("/api/v1/titles/search_titles",{value:v.id}).then((function(e){var t=e.data;F(t)})).catch((function(e){return console.log(e)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(o.a,{children:Object(s.jsx)(u.a,{children:Object(s.jsx)(h,{level:2,children:"Online Instruction Manual Saver"})})}),Object(s.jsx)(l.a,{children:Object(s.jsx)(r.a,{height:100,width:120,src:"/api/v1/images/".concat(null==w?"logo.png":w[0].profilePicture)})}),Object(s.jsx)(l.a,{children:Object(s.jsxs)(h,{level:4,children:[Object(s.jsx)(m,{})," ",null==w?"":w[0].firstName+" "+w[0].lastName]})}),Object(s.jsx)(l.a,{children:Object(s.jsxs)(h,{level:4,children:[Object(s.jsx)(x,{})," ",v.email]})}),Object(s.jsx)(l.a,{children:Object(s.jsx)(_,{info:v,afterClosing:function(){console.log(A),k.a.post("/api/v1/titles/search_titles",{value:v.id}).then((function(e){var t=e.data;F(t)})).catch((function(e){return console.log(e)}))}})}),Object(s.jsx)(o.a,{orientation:"left"}),Object(s.jsx)(c.b,{size:"large",header:Object(s.jsx)(h,{level:2,children:"Instruction List"}),footer:Object(s.jsx)("div",{children:"Footer"}),bordered:!0,dataSource:L,renderItem:function(e){return Object(s.jsxs)(c.b.Item,{children:[Object(s.jsx)(i.a,{flex:"auto",children:e.title}),Object(s.jsxs)(i.a,{children:[Object(s.jsx)(S.b,{to:"/instructions/".concat(e.id),children:Object(s.jsxs)(n.a,{type:"primary",onClick:function(){return t=e,void a.passData(t);var t},children:[Object(s.jsx)(y,{}),"View"]})}),Object(s.jsxs)(n.a,{type:"danger",onClick:function(){return t=e.id,void k.a.delete("/api/v1/titles/delete_title",{params:{id:t}}).then((function(e){k.a.post("/api/v1/titles/search_titles",{value:v.id}).then((function(e){var t=e.data;F(t)}))})).catch((function(e){return console.log(e)}));var t},children:[Object(s.jsx)(C.a,{}),"Delete"]})]})]})}}),Object(s.jsx)(o.a,{})]})}))}}]);
//# sourceMappingURL=5.a1578539.chunk.js.map